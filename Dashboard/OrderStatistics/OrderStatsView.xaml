<UserControl
    x:Class="Dashboard.OrderStatistics.OrderStatsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:infrastructure="clr-namespace:Infrastructure;assembly=Infrastructure"
    xmlns:local="clr-namespace:Dashboard.OrderStatistics"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:userControls="clr-namespace:Infrastructure.UserControls;assembly=Infrastructure"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
    xmlns:chart="clr-namespace:Syncfusion.UI.Xaml.Charts;assembly=Syncfusion.SfChart.WPF"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <GroupBox Header="ORDERS"
            Style="{DynamicResource MaterialDesignCardGroupBox}"
            Background="White"
            Margin="16" Padding="10"
            BorderThickness="1">
        <GroupBox.Resources>
            <Style TargetType="Border">
                <Setter Property="CornerRadius" Value="4"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryHueLightBrush}"/>
                <Setter Property="Margin" Value="6"/>
            </Style>
            <Style TargetType="chart:SfChart3D">
                <Setter Property="Background" Value="{DynamicResource MaterialDesignBackground}"/>
                <Setter Property="Tilt" Value="-60"/>
                <Setter Property="Rotation" Value="0"/>
                <Setter Property="Depth" Value="20"/>
                <Setter Property="PerspectiveAngle" Value="130"/>
                <Setter Property="EnableRotation" Value="False"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="VerticalAlignment" Value="Top"/>
                <Setter Property="Margin" Value="4"/>
                <Setter Property="EnableRotation" Value="True"/>
            </Style>
            <Style TargetType="chart:PieSeries3D">
                <Setter Property="EnableAnimation" Value="True"/>
            </Style>
        </GroupBox.Resources>
        <GroupBox.HeaderTemplate>
            <DataTemplate>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <materialDesign:PackIcon
                        Kind="BookMultiple"
                        Height="32"
                        Width="32"
                        VerticalAlignment="Center" />
                    <TextBlock Grid.Column="1"
                        Margin="8,0,0,0"
                        VerticalAlignment="Center"
                        Style="{StaticResource MaterialDesignSubheadingTextBlock}"
                        Text="{Binding}" />
                    <Button Grid.Column="2" Style="{DynamicResource MaterialDesignRaisedAccentButton}"
                            HorizontalAlignment="Right"
                            Margin="0"
                            Content="Manage"
                            Command="{x:Static infrastructure:GlobalCommands.NavigateToCompositeCommand}"
                            CommandParameter="OrderManageView"/>
                </Grid>
            </DataTemplate>
        </GroupBox.HeaderTemplate>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border>
                <syncfusion:SfChart3D>
                    <chart:SfChart3D.Header>
                        <TextBlock Text="By countries" FontSize="20" Foreground="Black"
                           FontFamily="Segoe UI" Margin="0,0,0,0" HorizontalAlignment="Left"/>
                    </chart:SfChart3D.Header>
                    <chart:SfChart3D.PrimaryAxis>
                        <chart:CategoryAxis3D/>
                    </chart:SfChart3D.PrimaryAxis>
                    <chart:SfChart3D.SecondaryAxis>
                        <chart:NumericalAxis3D/>
                    </chart:SfChart3D.SecondaryAxis>
                    <chart:PieSeries3D Palette="AutumnBrights"
                             ItemsSource="{Binding OrderByCountryGroups}"
                             XBindingPath="Country" YBindingPath="Quantity"/>
                    <chart:SfChart3D.Legend>
                        <chart:ChartLegend Orientation="Vertical" OffsetX="250"/>
                    </chart:SfChart3D.Legend>
                </syncfusion:SfChart3D>
            </Border>
            <Border Grid.Column="1">
                <syncfusion:SfChart3D>
                    <!--Header-->
                    <chart:SfChart3D.Header>
                        <TextBlock Text="By categories" FontSize="20" Foreground="Black"
                           FontFamily="Segoe UI" Margin="0,20,0,0"/>
                    </chart:SfChart3D.Header>

                    <!--PrimaryAxis-->
                    <chart:SfChart3D.PrimaryAxis>
                        <chart:CategoryAxis3D/>
                    </chart:SfChart3D.PrimaryAxis>

                    <!--SecondaryAxis-->
                    <chart:SfChart3D.SecondaryAxis>
                        <chart:NumericalAxis3D/>
                    </chart:SfChart3D.SecondaryAxis>

                    <!--PieSeries-->
                    <chart:PieSeries3D Palette="LightCandy" 
                             ItemsSource="{Binding OrderGroupsMock}"
                             XBindingPath="Country" YBindingPath="Quantity"/>
                </syncfusion:SfChart3D>
            </Border>
            <Border Grid.Row="1" Grid.ColumnSpan="3">
                <syncfusion:SfChart>
                    <!--Header-->
                    <chart:SfChart.Header>
                        <TextBlock Text="By months" FontSize="20" Foreground="Black"
                           FontFamily="Segoe UI" Margin="0,20,0,0"/>
                    </chart:SfChart.Header>

                    <!--PrimaryAxis-->
                    <chart:SfChart.PrimaryAxis>
                        <chart:CategoryAxis/>
                    </chart:SfChart.PrimaryAxis>

                    <!--SecondaryAxis-->
                    <chart:SfChart.SecondaryAxis>
                        <chart:NumericalAxis/>
                    </chart:SfChart.SecondaryAxis>

                    <!--PieSeries-->
                    <chart:BarSeries Palette="LightCandy" 
                             ItemsSource="{Binding OrderByCountryGroups}"
                             XBindingPath="Country" YBindingPath="Quantity"/>
                </syncfusion:SfChart>
            </Border>
        </Grid>
    </GroupBox>
</UserControl>

